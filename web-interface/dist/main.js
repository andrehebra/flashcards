/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const e=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<t.length;e+=3){const r=t[e],s=e+1<t.length,o=s?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,l=r>>2,c=(3&r)<<4|o>>4;let u=(15&o)<<2|h>>6,f=63&h;a||(f=64,s||(u=64)),i.push(n[l],n[c],n[u],n[f])}return i.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(e(t),n)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let e=0;e<t.length;){const r=n[t.charAt(e++)],s=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==r||null==s||null==o||null==a)throw Error();const h=r<<2|s>>4;if(i.push(h),64!==o){const t=s<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},i=function(t){return function(t){const i=e(t);return n.encodeByteArray(i,!0)}(t).replace(/\./g,"")},r=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t.g)return t.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&function(t){try{return n.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},s=()=>{var t;return null===(t=r())||void 0===t?void 0:t.config};class o{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function a(){try{return"object"==typeof indexedDB}catch(t){return!1}}function h(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}class l extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c.prototype.create)}}class c{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,e){return t.replace(u,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new l(i,o,n)}}const u=/\{\$([^}]+)}/g;function f(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(p(n)&&p(s)){if(!f(n,s))return!1}else if(n!==s)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function p(t){return null!==t&&"object"==typeof t}const d=1e3,g=2,m=144e5,y=.5;function v(t,e=d,n=g){const i=e*Math.pow(n,t),r=Math.round(y*i*(Math.random()-.5)*2);return Math.min(m,i+r)}function b(t){return t&&t._delegate?t._delegate:t}class w{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const E="[DEFAULT]";class I{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new o;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:E})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t=E){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=E){return this.instances.has(t)}getOptions(t=E){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(i);return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===E?void 0:i),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var i;return n||null}normalizeInstanceIdentifier(t=E){return this.component?this.component.multipleInstances?t:E:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class T{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new I(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const A=[];var S,_;(_=S||(S={}))[_.DEBUG=0]="DEBUG",_[_.VERBOSE=1]="VERBOSE",_[_.INFO=2]="INFO",_[_.WARN=3]="WARN",_[_.ERROR=4]="ERROR",_[_.SILENT=5]="SILENT";const C={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},D=S.INFO,R={[S.DEBUG]:"log",[S.VERBOSE]:"log",[S.INFO]:"info",[S.WARN]:"warn",[S.ERROR]:"error"},k=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=R[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class L{constructor(t){this.name=t,this._logLevel=D,this._logHandler=k,this._userLogHandler=null,A.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in S))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?C[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,S.DEBUG,...t),this._logHandler(this,S.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,S.VERBOSE,...t),this._logHandler(this,S.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,S.INFO,...t),this._logHandler(this,S.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,S.WARN,...t),this._logHandler(this,S.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,S.ERROR,...t),this._logHandler(this,S.ERROR,...t)}}const N=(t,e)=>e.some((e=>t instanceof e));let O,P;const M=new WeakMap,F=new WeakMap,x=new WeakMap,U=new WeakMap,j=new WeakMap;let B={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return F.get(t);if("objectStoreNames"===e)return t.objectStoreNames||x.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return H(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function $(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(P||(P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(z(this),t),H(M.get(this))}:function(...t){return H(e.apply(z(this),t))}:function(t,...n){const i=e.call(z(this),t,...n);return x.set(i,t.sort?t.sort():[t]),H(i)}:(t instanceof IDBTransaction&&function(t){if(F.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));F.set(t,e)}(t),N(t,O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,B):t);var e}function H(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(H(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&M.set(e,t)})).catch((()=>{})),j.set(e,t),e}(t);if(U.has(t))return U.get(t);const e=$(t);return e!==t&&(U.set(t,e),j.set(e,t)),e}const z=t=>j.get(t);function V(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=H(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(H(o.result),t.oldVersion,t.newVersion,H(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const K=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],G=new Map;function X(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(G.get(e))return G.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=q.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!K.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),r&&s.done]))[0]};return G.set(e,s),s}var W;W=B,B={...W,get:(t,e,n)=>X(t,e)||W.get(t,e,n),has:(t,e)=>!!X(t,e)||W.has(t,e)};class Y{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const J="@firebase/app",Q="0.9.3",Z=new L("@firebase/app"),tt="[DEFAULT]",et={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nt=new Map,it=new Map;function rt(t,e){try{t.container.addComponent(e)}catch(n){Z.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function st(t){const e=t.name;if(it.has(e))return Z.debug(`There were multiple attempts to register component ${e}.`),!1;it.set(e,t);for(const e of nt.values())rt(e,t);return!0}function ot(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const at=new c("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ht{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new w("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}const lt="9.17.1";function ct(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:tt,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw at.create("bad-app-name",{appName:String(r)});if(n||(n=s()),!n)throw at.create("no-options");const o=nt.get(r);if(o){if(f(n,o.options)&&f(i,o.config))return o;throw at.create("duplicate-app",{appName:r})}const a=new T(r);for(const t of it.values())a.addComponent(t);const h=new ht(n,i,a);return nt.set(r,h),h}function ut(t=tt){const e=nt.get(t);if(!e&&t===tt)return ct();if(!e)throw at.create("no-app",{appName:t});return e}function ft(t,e,n){var i;let r=null!==(i=et[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${e}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Z.warn(t.join(" "))}st(new w(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}const pt="firebase-heartbeat-database",dt=1,gt="firebase-heartbeat-store";let mt=null;function yt(){return mt||(mt=V(pt,dt,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gt)}}).catch((t=>{throw at.create("idb-open",{originalErrorMessage:t.message})}))),mt}async function vt(t,e){try{const n=(await yt()).transaction(gt,"readwrite"),i=n.objectStore(gt);return await i.put(e,bt(t)),n.done}catch(t){if(t instanceof l)Z.warn(t.message);else{const e=at.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});Z.warn(e.message)}}}function bt(t){return`${t.name}!${t.options.appId}`}class wt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new It(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Et();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Et(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),Tt(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Tt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=i(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Et(){return(new Date).toISOString().substring(0,10)}class It{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!a()&&h().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{return(await yt()).transaction(gt).objectStore(gt).get(bt(t))}catch(t){if(t instanceof l)Z.warn(t.message);else{const e=at.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});Z.warn(e.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return vt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return vt(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Tt(t){return i(JSON.stringify({version:2,heartbeats:t})).length}st(new w("platform-logger",(t=>new Y(t)),"PRIVATE")),st(new w("heartbeat",(t=>new wt(t)),"PRIVATE")),ft(J,Q,""),ft(J,Q,"esm2017"),ft("fire-js",""),ft("firebase","9.17.1","app");const At="@firebase/installations",St="0.6.3",_t=1e4,Ct=`w:${St}`,Dt="FIS_v2",Rt="https://firebaseinstallations.googleapis.com/v1",kt=36e5,Lt=new c("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nt(t){return t instanceof l&&t.code.includes("request-failed")}function Ot({projectId:t}){return`${Rt}/projects/${t}/installations`}function Pt(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function Mt(t,e){const n=(await e.json()).error;return Lt.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ft({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function xt(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Ut(t){return new Promise((e=>{setTimeout(e,t)}))}const jt=/^[cdef][\w-]{21}$/,Bt="";function $t(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){var e;return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22)}(t);return jt.test(e)?e:Bt}catch(t){return Bt}}function Ht(t){return`${t.appName}!${t.appId}`}const zt=new Map;function Vt(t,e){const n=Ht(t);Kt(n,e),function(t,e){const n=(!qt&&"BroadcastChannel"in self&&(qt=new BroadcastChannel("[Firebase] FID Change"),qt.onmessage=t=>{Kt(t.data.key,t.data.fid)}),qt);n&&n.postMessage({key:t,fid:e}),0===zt.size&&qt&&(qt.close(),qt=null)}(n,e)}function Kt(t,e){const n=zt.get(t);if(n)for(const t of n)t(e)}let qt=null;const Gt="firebase-installations-database",Xt=1,Wt="firebase-installations-store";let Yt=null;function Jt(){return Yt||(Yt=V(Gt,Xt,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Wt)}})),Yt}async function Qt(t,e){const n=Ht(t),i=(await Jt()).transaction(Wt,"readwrite"),r=i.objectStore(Wt),s=await r.get(n);return await r.put(e,n),await i.done,s&&s.fid===e.fid||Vt(t,e.fid),e}async function Zt(t){const e=Ht(t),n=(await Jt()).transaction(Wt,"readwrite");await n.objectStore(Wt).delete(e),await n.done}async function te(t,e){const n=Ht(t),i=(await Jt()).transaction(Wt,"readwrite"),r=i.objectStore(Wt),s=await r.get(n),o=e(s);return void 0===o?await r.delete(n):await r.put(o,n),await i.done,!o||s&&s.fid===o.fid||Vt(t,o.fid),o}async function ee(t){let e;const n=await te(t.appConfig,(n=>{const i=function(t){return re(t||{fid:$t(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Lt.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Ot(t),r=Ft(t),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={fid:n,authVersion:Dt,appId:t.appId,sdkVersion:Ct},a={method:"POST",headers:r,body:JSON.stringify(o)},h=await xt((()=>fetch(i,a)));if(h.ok){const t=await h.json();return{fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:Pt(t.authToken)}}throw await Mt("Create Installation",h)}(t,e);return Qt(t.appConfig,n)}catch(n){throw Nt(n)&&409===n.customData.serverCode?await Zt(t.appConfig):await Qt(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ne(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry}));return n.fid===Bt?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function ne(t){let e=await ie(t.appConfig);for(;1===e.registrationStatus;)await Ut(100),e=await ie(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await ee(t);return n||e}return e}function ie(t){return te(t,(t=>{if(!t)throw Lt.create("installation-not-found");return re(t)}))}function re(t){return 1===(e=t).registrationStatus&&e.registrationTime+_t<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function se({appConfig:t,heartbeatServiceProvider:e},n){const i=function(t,{fid:e}){return`${Ot(t)}/${e}/authTokens:generate`}(t,n),r=function(t,{refreshToken:e}){const n=Ft(t);return n.append("Authorization",function(t){return`${Dt} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={installation:{sdkVersion:Ct,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},h=await xt((()=>fetch(i,a)));if(h.ok)return Pt(await h.json());throw await Mt("Generate Auth Token",h)}async function oe(t,e=!1){let n;const i=await te(t.appConfig,(i=>{if(!he(i))throw Lt.create("not-registered");const r=i.authToken;if(!e&&(2===(s=r).requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+kt}(s)))return i;var s;if(1===r.requestStatus)return n=async function(t,e){let n=await ae(t.appConfig);for(;1===n.authToken.requestStatus;)await Ut(100),n=await ae(t.appConfig);const i=n.authToken;return 0===i.requestStatus?oe(t,e):i}(t,e),i;{if(!navigator.onLine)throw Lt.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return n=async function(t,e){try{const n=await se(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Qt(t.appConfig,i),n}catch(n){if(!Nt(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qt(t.appConfig,n)}else await Zt(t.appConfig);throw n}}(t,e),e}}));return n?await n:i.authToken}function ae(t){return te(t,(t=>{if(!he(t))throw Lt.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+_t<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e}))}function he(t){return void 0!==t&&2===t.registrationStatus}function le(t){return Lt.create("missing-app-config-values",{valueName:t})}const ce="installations";st(new w(ce,(t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw le("App Configuration");if(!t.name)throw le("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw le(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ot(e,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),st(new w("installations-internal",(t=>{const e=ot(t.getProvider("app").getImmediate(),ce).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await ee(e);return i?i.catch(console.error):oe(e).catch(console.error),n.fid}(e),getToken:t=>async function(t,e=!1){const n=t;return await async function(t){const{registrationPromise:e}=await ee(t);e&&await e}(n),(await oe(n,e)).token}(e,t)}}),"PRIVATE")),ft(At,St),ft(At,St,"esm2017");const ue="analytics",fe="firebase_id",pe="origin",de=6e4,ge="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",me="https://www.googletagmanager.com/gtag/js",ye=new L("@firebase/analytics");function ve(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}const be=new c("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),we=30,Ee=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Ie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Te(t,e=Ee,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw be.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw be.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Se;return setTimeout((async()=>{a.abort()}),void 0!==n?n:de),Ae({appId:i,apiKey:r,measurementId:s},o,a,e)}async function Ae(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=Ee){var s;const{appId:o,measurementId:a}=t;try{await function(t,e){return new Promise(((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener((()=>{clearTimeout(s),i(be.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(i,e)}catch(t){if(a)return ye.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:o,measurementId:a};throw t}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:Ie(i)},s=ge.replace("{app-id}",n),o=await fetch(s,r);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(t){}throw be.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return r.deleteThrottleMetadata(o),e}catch(e){const h=e;if(!function(t){if(!(t instanceof l&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(h)){if(r.deleteThrottleMetadata(o),a)return ye.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==h?void 0:h.message}]`),{appId:o,measurementId:a};throw e}const c=503===Number(null===(s=null==h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?v(n,r.intervalMillis,we):v(n,r.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(o,u),ye.debug(`Calling attemptFetch again in ${c} millis`),Ae(t,u,i,r)}}class Se{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let _e,Ce;async function De(t,e,n,i,r,s,o){var l;const c=Te(t);c.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ye.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>ye.error(t))),e.push(c);const u=async function(){if(!a())return ye.warn(be.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await h()}catch(t){return ye.warn(be.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?i.getId():void 0)),[f,p]=await Promise.all([c,u]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(me)&&n.src.includes(t))return n;return null})(s)||function(t,e){const n=document.createElement("script");n.src=`${me}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}(s,f.measurementId),Ce&&(r("consent","default",Ce),Ce=void 0),r("js",new Date);const d=null!==(l=null==o?void 0:o.config)&&void 0!==l?l:{};return d[pe]="firebase",d.update=!0,null!=p&&(d[fe]=p),r("config",f.measurementId,d),_e&&(r("set",_e),_e=void 0),f.measurementId}class Re{constructor(t){this.app=t}_delete(){return delete ke[this.app.options.appId],Promise.resolve()}}let ke={},Le=[];const Ne={};let Oe,Pe,Me="dataLayer",Fe="gtag",xe=!1;function Ue(t,e,n){!function(){const t=[];if(function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),n=be.create("invalid-analytics-context",{errorInfo:e});ye.warn(n.message)}}();const i=t.options.appId;if(!i)throw be.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw be.create("no-api-key");ye.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ke[i])throw be.create("already-exists",{id:i});if(!xe){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Me);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let s=function(...t){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function(t,e,n,i){return async function(r,s,o){try{"event"===r?await async function(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=await ve(n);for(const n of t){const t=i.find((t=>t.measurementId===n)),r=t&&e[t.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(t){ye.error(t)}}(t,e,n,s,o):"config"===r?await async function(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const t=(await ve(n)).find((t=>t.measurementId===r));t&&await e[t.appId]}}catch(t){ye.error(t)}t("config",r,s)}(t,e,n,i,s,o):"consent"===r?t("consent","update",o):t("set",s)}catch(t){ye.error(t)}}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(ke,Le,Ne,Me,Fe);Pe=t,Oe=e,xe=!0}return ke[i]=De(t,Le,Ne,e,Oe,Me,n),new Re(t)}const je="@firebase/analytics",Be="0.9.3";st(new w(ue,((t,{options:e})=>Ue(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e)),"PUBLIC")),st(new w("analytics-internal",(function(t){try{const e=t.getProvider(ue).getImmediate();return{logEvent:(t,n,i)=>function(t,e,n,i){t=b(t),async function(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(Pe,ke[t.app.options.appId],e,n,i).catch((t=>ye.error(t)))}(e,t,n,i)}}catch(t){throw be.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),ft(je,Be),ft(je,Be,"esm2017");class $e{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let He="9.17.1";const ze=new L("@firebase/firestore");function Ve(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Ke(t="Unexpected state"){const e=`FIRESTORE (${He}) INTERNAL ASSERTION FAILED: `+t;throw function(t,...e){if(ze.logLevel<=S.ERROR){const n=e.map(Ve);ze.error(`Firestore (${He}): ${t}`,...n)}}(e),new Error(e)}function qe(t,e){t||Ke()}const Ge="invalid-argument",Xe="failed-precondition";class We extends l{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ye{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Je{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e($e.UNAUTHENTICATED)))}shutdown(){}}class Qe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Ze{constructor(t){this.auth=null,t.onInit((t=>{this.auth=t}))}getToken(){return this.auth?this.auth.getToken().then((t=>t?(qe("string"==typeof t.accessToken),new Ye(t.accessToken,new $e(this.auth.getUid()))):null)):Promise.resolve(null)}invalidateToken(){}start(t,e){}shutdown(){}}class tn{constructor(t,e,n,i){this.t=t,this.i=e,this.o=n,this.u=i,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.h=new Map}l(){return this.u?this.u():(qe(!("object"!=typeof this.t||null===this.t||!this.t.auth||!this.t.auth.getAuthHeaderValueForFirstParty)),this.t.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.h.set("X-Goog-AuthUser",this.i);const t=this.l();return t&&this.h.set("Authorization",t),this.o&&this.h.set("X-Goog-Iam-Authorization-Token",this.o),this.h}}class en{constructor(t,e,n,i){this.t=t,this.i=e,this.o=n,this.u=i}getToken(){return Promise.resolve(new tn(this.t,this.i,this.o,this.u))}start(t,e){t.enqueueRetryable((()=>e($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rn{constructor(t){this.m=t,this.appCheck=null,t.onInit((t=>{this.appCheck=t}))}getToken(){return this.appCheck?this.appCheck.getToken().then((t=>t?(qe("string"==typeof t.token),new nn(t.token)):null)):Promise.resolve(null)}invalidateToken(){}start(t,e){}shutdown(){}}class sn{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new sn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof sn&&t.projectId===this.projectId&&t.database===this.database}}function on(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(Ge,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Ke()}(t);throw new We(Ge,`Expected type '${e.name}', but it was: ${n}`)}}return t}var an,hn;(hn=an||(an={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ln(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ln(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return function(t,e){return t<e?-1:t>e?1:0}(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");class cn{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:cn.RED,this.left=null!=i?i:cn.EMPTY,this.right=null!=r?r:cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new cn(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return cn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke();if(this.right.isRed())throw Ke();const t=this.left.check();if(t!==this.right.check())throw Ke();return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1,cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(t,e,n,i,r){return this}insert(t,e,n){return new cn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};const un=new Map;class fn{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new We(Ge,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new We(Ge,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new We(Ge,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pn{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fn({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new We(Xe,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new We(Xe,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fn(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Je;switch(t.type){case"gapi":const e=t.client;return new en(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new We(Ge,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=un.get(t);e&&(function(t,...e){if(ze.logLevel<=S.DEBUG){const n=e.map(Ve);ze.debug(`Firestore (${He}): ${t}`,...n)}}("ComponentProvider","Removing Datastore"),un.delete(t),e.terminate())}(this),Promise.resolve()}}!function(t){He=t}(`${lt}_lite`),st(new w("firestore/lite",((t,{instanceIdentifier:e,options:n})=>{const i=t.getProvider("app").getImmediate(),r=new pn(new Ze(t.getProvider("auth-internal")),new rn(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new We(Ge,'"projectId" not provided in firebase.initializeApp.');return new sn(t.options.projectId,e)}(i,e),i);return n&&r._setSettings(n),r}),"PUBLIC").setMultipleInstances(!0)),ft("firestore-lite","3.8.3",""),ft("firestore-lite","3.8.3","esm2017");var dn,gn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{},mn={},yn=yn||{},vn=gn||self;function bn(){}function wn(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function En(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var In="closure_uid_"+(1e9*Math.random()>>>0),Tn=0;function An(t,e,n){return t.call.apply(t.bind,arguments)}function Sn(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _n(t,e,n){return(_n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?An:Sn).apply(null,arguments)}function Cn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Dn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function Rn(){this.s=this.s,this.o=this.o}Rn.prototype.s=!1,Rn.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,In)&&t[In]||(t[In]=++Tn))},Rn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ln(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Nn(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(wn(n)){const e=t.length||0,i=n.length||0;t.length=e+i;for(let r=0;r<i;r++)t[e+r]=n[r]}else t.push(n)}}function On(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}On.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{vn.addEventListener("test",bn,e),vn.removeEventListener("test",bn,e)}catch(t){}return t}();function Mn(t){return/^[\s\xa0]*$/.test(t)}var Fn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xn(t,e){return t<e?-1:t>e?1:0}function Un(){var t=vn.navigator;return t&&(t=t.userAgent)?t:""}function jn(t){return-1!=Un().indexOf(t)}function Bn(t){return Bn[" "](t),t}Bn[" "]=bn;var $n,Hn,zn=jn("Opera"),Vn=jn("Trident")||jn("MSIE"),Kn=jn("Edge"),qn=Kn||Vn,Gn=jn("Gecko")&&!(-1!=Un().toLowerCase().indexOf("webkit")&&!jn("Edge"))&&!(jn("Trident")||jn("MSIE"))&&!jn("Edge"),Xn=-1!=Un().toLowerCase().indexOf("webkit")&&!jn("Edge");function Wn(){var t=vn.document;return t?t.documentMode:void 0}t:{var Yn="",Jn=(Hn=Un(),Gn?/rv:([^\);]+)(\)|;)/.exec(Hn):Kn?/Edge\/([\d\.]+)/.exec(Hn):Vn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Hn):Xn?/WebKit\/(\S+)/.exec(Hn):zn?/(?:Version)[ \/]?(\S+)/.exec(Hn):void 0);if(Jn&&(Yn=Jn?Jn[1]:""),Vn){var Qn=Wn();if(null!=Qn&&Qn>parseFloat(Yn)){$n=String(Qn);break t}}$n=Yn}var Zn,ti={};function ei(){return function(t){var e=ti;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=Fn(String($n)).split("."),n=Fn("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=xn(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||xn(0==r[2].length,0==s[2].length)||xn(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}()}()}vn.document&&Vn?Zn=Wn()||parseInt($n,10)||void 0:Zn=void 0;var ni=Zn;function ii(t,e){if(On.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Gn){t:{try{Bn(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ri[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ii.X.h.call(this)}}Dn(ii,On);var ri={2:"touch",3:"pen",4:"mouse"};ii.prototype.h=function(){ii.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var si="closure_listenable_"+(1e6*Math.random()|0),oi=0;function ai(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++oi,this.ba=this.ea=!1}function hi(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function li(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function ci(t){const e={};for(const n in t)e[n]=t[n];return e}const ui="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fi(t,e){let n,i;for(let e=1;e<arguments.length;e++){for(n in i=arguments[e],i)t[n]=i[n];for(let e=0;e<ui.length;e++)n=ui[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function pi(t){this.src=t,this.g={},this.h=0}function di(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=kn(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(hi(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function gi(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}pi.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=gi(t,e,i,r);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new ai(e,this.src,s,!!i,r)).ea=n,t.push(e)),e};var mi="closure_lm_"+(1e6*Math.random()|0),yi={};function vi(t,e,n,i,r){if(i&&i.once)return wi(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vi(t,e[s],n,i,r);return null}return n=Ci(n),t&&t[si]?t.N(e,n,En(i)?!!i.capture:!!i,r):bi(t,e,n,!1,i,r)}function bi(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=En(r)?!!r.capture:!!r,a=Si(t);if(a||(t[mi]=a=new pi(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){const t=Ai;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Pn||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ti(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function wi(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)wi(t,e[s],n,i,r);return null}return n=Ci(n),t&&t[si]?t.O(e,n,En(i)?!!i.capture:!!i,r):bi(t,e,n,!0,i,r)}function Ei(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ei(t,e[s],n,i,r);else i=En(i)?!!i.capture:!!i,n=Ci(n),t&&t[si]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=gi(s=t.g[e],n,i,r))&&(hi(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Si(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gi(e,n,i,r)),(n=-1<t?e[t]:null)&&Ii(n))}function Ii(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[si])di(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ti(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Si(e))?(di(n,t),0==n.h&&(n.src=null,e[mi]=null)):hi(t)}}}function Ti(t){return t in yi?yi[t]:yi[t]="on"+t}function Ai(t,e){if(t.ba)t=!0;else{e=new ii(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&Ii(t),t=n.call(i,e)}return t}function Si(t){return(t=t[mi])instanceof pi?t:null}var _i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ci(t){return"function"==typeof t?t:(t[_i]||(t[_i]=function(e){return t.handleEvent(e)}),t[_i])}function Di(){Rn.call(this),this.i=new pi(this),this.P=this,this.I=null}function Ri(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new On(e,t);else if(e instanceof On)e.target=e.target||t;else{var r=e;fi(e=new On(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=ki(o,i,!0,e)&&r}if(r=ki(o=e.g=t,i,!0,e)&&r,r=ki(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=ki(o=e.g=n[s],i,!1,e)&&r}function ki(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,h=o.ha||o.src;o.ea&&di(t.i,o),r=!1!==a.call(h,i)&&r}}return r&&!i.defaultPrevented}Dn(Di,Rn),Di.prototype[si]=!0,Di.prototype.removeEventListener=function(t,e,n,i){Ei(this,t,e,n,i)},Di.prototype.M=function(){if(Di.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)hi(n[i]);delete e.g[t],e.h--}}this.I=null},Di.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Di.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Li=vn.JSON.stringify;function Ni(){var t=ji;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Oi,Pi=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Mi),(t=>t.reset()));class Mi{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Fi(t){vn.setTimeout((()=>{throw t}),0)}function xi(t,e){Oi||function(){var t=vn.Promise.resolve(void 0);Oi=function(){t.then(Bi)}}(),Ui||(Oi(),Ui=!0),ji.add(t,e)}var Ui=!1,ji=new class{constructor(){this.h=this.g=null}add(t,e){const n=Pi.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Bi(){for(var t;t=Ni();){try{t.h.call(t.g)}catch(t){Fi(t)}var e=Pi;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ui=!1}function $i(t,e){Di.call(this),this.h=t||1,this.g=e||vn,this.j=_n(this.lb,this),this.l=Date.now()}function Hi(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function zi(t,e,n){if("function"==typeof t)n&&(t=_n(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_n(t.handleEvent,t)}return 2147483647<Number(e)?-1:vn.setTimeout(t,e||0)}function Vi(t){t.g=zi((()=>{t.g=null,t.i&&(t.i=!1,Vi(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dn($i,Di),(dn=$i.prototype).ca=!1,dn.R=null,dn.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ri(this,"tick"),this.ca&&(Hi(this),this.start()))}},dn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dn.M=function(){$i.X.M.call(this),Hi(this),delete this.g};class Ki extends Rn{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Vi(this)}M(){super.M(),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(t){Rn.call(this),this.h=t,this.g={}}Dn(qi,Rn);var Gi=[];function Xi(t,e,n,i){Array.isArray(n)||(n&&(Gi[0]=n.toString()),n=Gi);for(var r=0;r<n.length;r++){var s=vi(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Wi(t){li(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Ii(t)}),t),t.g={}}function Yi(){this.g=!0}function Ji(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Li(n)}catch(t){return e}}(t,n)+(i?" "+i:"")}))}qi.prototype.M=function(){qi.X.M.call(this),Wi(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yi.prototype.Aa=function(){this.g=!1},Yi.prototype.info=function(){};var Qi={},Zi=null;function tr(){return Zi=Zi||new Di}function er(t){On.call(this,Qi.Pa,t)}function nr(t){const e=tr();Ri(e,new er(e))}function ir(t,e){On.call(this,Qi.STAT_EVENT,t),this.stat=e}function rr(t){const e=tr();Ri(e,new ir(e,t))}function sr(t,e){On.call(this,Qi.Qa,t),this.size=e}function or(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return vn.setTimeout((function(){t()}),e)}Qi.Pa="serverreachability",Dn(er,On),Qi.STAT_EVENT="statevent",Dn(ir,On),Qi.Qa="timingevent",Dn(sr,On);var ar={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},hr={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lr(){}function cr(t){return t.h||(t.h=t.i())}function ur(){}lr.prototype.h=null;var fr,pr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function dr(){On.call(this,"d")}function gr(){On.call(this,"c")}function mr(){}function yr(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new qi(this),this.O=br,t=qn?125:void 0,this.T=new $i(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}Dn(dr,On),Dn(gr,On),Dn(mr,lr),mr.prototype.g=function(){return new XMLHttpRequest},mr.prototype.i=function(){return{}},fr=new mr;var br=45e3,wr={},Er={};function Ir(t,e,n){t.K=1,t.v=$r(Fr(e)),t.s=n,t.P=!0,Tr(t,null)}function Tr(t,e){t.F=Date.now(),Cr(t),t.A=Fr(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),ts(n.i,"t",i),t.C=0,n=t.l.H,t.h=new vr,t.g=Zs(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Ki(_n(t.La,t,t.g),t.N)),Xi(t.S,t.g,"readystatechange",t.ib),e=t.H?ci(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),nr(),function(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),h=0;h<a.length;h++){var l=a[h].split("=");if(1<l.length){var c=l[0];l=l[1];var u=c.split("_");o=2<=u.length&&"type"==u[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.U,t.s)}function Ar(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function Sr(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=_r(t,n),i==Er){4==e&&(t.o=4,rr(14),r=!1),Ji(t.j,t.m,null,"[Incomplete Response]");break}if(i==wr){t.o=4,rr(15),Ji(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ji(t.j,t.m,i,null),Nr(t,i)}Ar(t)&&i!=Er&&i!=wr&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,rr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ks(e),e.K=!0,rr(11))):(Ji(t.j,t.m,n,"[Invalid Chunked Response]"),Lr(t),kr(t))}function _r(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?Er:(n=Number(e.substring(n,i)),isNaN(n)?wr:(i+=1)+n>e.length?Er:(e=e.substr(i,n),t.C=i+n,e))}function Cr(t){t.V=Date.now()+t.O,Dr(t,t.O)}function Dr(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=or(_n(t.gb,t),e)}function Rr(t){t.B&&(vn.clearTimeout(t.B),t.B=null)}function kr(t){0==t.l.G||t.I||Xs(t.l,t)}function Lr(t){Rr(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Hi(t.T),Wi(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Nr(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||os(n.h,t)))if(!t.J&&os(n.h,t)&&3==n.G){try{var i=n.Fa.g.parse(e)}catch(t){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Gs(n),xs(n)}Vs(n),rr(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=or(_n(n.cb,n),6e3));if(1>=ss(n.h)&&n.ja){try{n.ja()}catch(t){}n.ja=void 0}}else Ys(n,11)}else if((t.J||n.g==t)&&Gs(n),!Mn(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.I=l[1],n.ka=l[2];const e=l[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const r=l[4];null!=r&&(n.Ca=r,n.j.info("SVER="+n.Ca));const c=l[5];null!=c&&"number"==typeof c&&0<c&&(i=1.5*c,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=t.g;if(u){const t=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(as(s,s.h),s.h=null))}if(i.D){const t=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.za=t,Br(i.F,i.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((i=n).sa=Qs(i,i.H?i.ka:null,i.V),o.J){hs(i.h,o);var a=o,h=i.J;h&&a.setTimeout(h),a.B&&(Rr(a),Cr(a)),i.g=o}else zs(i);0<n.i.length&&js(n)}else"stop"!=l[0]&&"close"!=l[0]||Ys(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Ys(n,7):Fs(n):"noop"!=l[0]&&n.l&&n.l.wa(l),n.A=0)}nr()}catch(t){}}function Or(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(wn(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(wn(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(wn(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(dn=yr.prototype).setTimeout=function(t){this.O=t},dn.ib=function(t){t=t.target;const e=this.L;e&&3==ks(t)?e.l():this.La(t)},dn.La=function(t){try{if(t==this.g)t:{const c=ks(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>c)&&(3!=c||qn||this.g&&(this.h.h||this.g.fa()||Ls(this.g)))){this.I||4!=c||7==e||nr(),Rr(this);var n=this.g.aa();this.Y=n;e:if(Ar(this)){var i=Ls(this.g);t="";var r=i.length,s=4==ks(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Lr(this),kr(this);var o="";break e}this.h.i=new vn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,h=this.g;if((a=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mn(a)){var l=a;break e}}l=null}if(!(n=l)){this.i=!1,this.o=3,rr(12),Lr(this),kr(this);break t}Ji(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nr(this,n)}this.P?(Sr(this,c,o),qn&&this.i&&3==c&&(Xi(this.S,this.T,"tick",this.hb),this.T.start())):(Ji(this.j,this.m,o,null),Nr(this,o)),4==c&&Lr(this),this.i&&!this.I&&(4==c?Xs(this.l,this):(this.i=!1,Cr(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,rr(12)):(this.o=0,rr(13)),Lr(this),kr(this)}}}catch(t){}},dn.hb=function(){if(this.g){var t=ks(this.g),e=this.g.fa();this.C<e.length&&(Rr(this),Sr(this,t,e),this.i&&4!=t&&Cr(this))}},dn.cancel=function(){this.I=!0,Lr(this)},dn.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(nr(),rr(17)),Lr(this),this.o=2,kr(this)):Dr(this,this.V-t)};var Pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mr){this.h=void 0!==e?e:t.h,xr(this,t.j),this.s=t.s,this.g=t.g,Ur(this,t.m),this.l=t.l,e=t.i;var n=new Yr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jr(this,n),this.o=t.o}else t&&(n=String(t).match(Pr))?(this.h=!!e,xr(this,n[1]||"",!0),this.s=Hr(n[2]||""),this.g=Hr(n[3]||"",!0),Ur(this,n[4]),this.l=Hr(n[5]||"",!0),jr(this,n[6]||"",!0),this.o=Hr(n[7]||"")):(this.h=!!e,this.i=new Yr(null,this.h))}function Fr(t){return new Mr(t)}function xr(t,e,n){t.j=n?Hr(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ur(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jr(t,e,n){e instanceof Yr?(t.i=e,function(t,e){e&&!t.j&&(Jr(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qr(this,e),ts(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=zr(e,Xr)),t.i=new Yr(e,t.h))}function Br(t,e,n){t.i.set(e,n)}function $r(t){return Br(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zr(e,Kr,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(zr(e,Kr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(zr(n,"/"==n.charAt(0)?Gr:qr,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zr(n,Wr)),t.join("")};var Kr=/[#\/\?@]/g,qr=/[#\?:]/g,Gr=/[#\?]/g,Xr=/[#\?@]/g,Wr=/#/g;function Yr(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Jr(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qr(t,e){Jr(t),e=es(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Zr(t,e){return Jr(t),e=es(t,e),t.g.has(e)}function ts(t,e,n){Qr(t,e),0<n.length&&(t.i=null,t.g.set(es(t,e),Ln(n)),t.h+=n.length)}function es(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ns(t){this.l=t||is,t=vn.PerformanceNavigationTiming?0<(t=vn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(vn.g&&vn.g.Ga&&vn.g.Ga()&&vn.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dn=Yr.prototype).add=function(t,e){Jr(this),this.i=null,t=es(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},dn.forEach=function(t,e){Jr(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},dn.oa=function(){Jr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},dn.W=function(t){Jr(this);let e=[];if("string"==typeof t)Zr(this,t)&&(e=e.concat(this.g.get(es(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},dn.set=function(t,e){return Jr(this),this.i=null,Zr(this,t=es(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},dn.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},dn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};var is=10;function rs(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ss(t){return t.h?1:t.g?t.g.size:0}function os(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function as(t,e){t.g?t.g.add(e):t.h=e}function hs(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ls(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ln(t.i)}function cs(){}function us(){this.g=new cs}function fs(t,e,n){const i=n||"";try{Or(t,(function(t,n){let r=t;En(t)&&(r=Li(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function ps(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}function ds(t){this.l=t.ac||null,this.j=t.jb||!1}function gs(t,e){Di.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ms,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ns.prototype.cancel=function(){if(this.i=ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},cs.prototype.stringify=function(t){return vn.JSON.stringify(t,void 0)},cs.prototype.parse=function(t){return vn.JSON.parse(t,void 0)},Dn(ds,lr),ds.prototype.g=function(){return new gs(this.l,this.j)},ds.prototype.i=function(t){return function(){return t}}({}),Dn(gs,Di);var ms=0;function ys(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function vs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bs(t)}function bs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(dn=gs.prototype).open=function(t,e){if(this.readyState!=ms)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bs(this)},dn.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||vn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vs(this)),this.readyState=ms},dn.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==vn.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ys(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},dn.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vs(this):bs(this),3==this.readyState&&ys(this)}},dn.Va=function(t){this.g&&(this.response=this.responseText=t,vs(this))},dn.Ua=function(t){this.g&&(this.response=t,vs(this))},dn.ga=function(){this.g&&vs(this)},dn.setRequestHeader=function(t,e){this.v.append(t,e)},dn.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},dn.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ws=vn.JSON.parse;function Es(t){Di.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Is,this.K=this.L=!1}Dn(Es,Di);var Is="",Ts=/^https?$/i,As=["POST","PUT"];function Ss(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_s(t),Ds(t)}function _s(t){t.D||(t.D=!0,Ri(t,"complete"),Ri(t,"error"))}function Cs(t){if(t.h&&void 0!==yn&&(!t.C[1]||4!=ks(t)||2!=t.aa()))if(t.v&&4==ks(t))zi(t.Ha,0,t);else if(Ri(t,"readystatechange"),4==ks(t)){t.h=!1;try{const a=t.aa();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var r=String(t.H).match(Pr)[1]||null;if(!r&&vn.self&&vn.self.location){var s=vn.self.location.protocol;r=s.substr(0,s.length-1)}i=!Ts.test(r?r.toLowerCase():"")}n=i}if(n)Ri(t,"complete"),Ri(t,"success");else{t.m=6;try{var o=2<ks(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.aa()+"]",_s(t)}}finally{Ds(t)}}}function Ds(t,e){if(t.g){Rs(t);const n=t.g,i=t.C[0]?bn:null;t.g=null,t.C=null,e||Ri(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function Rs(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(vn.clearTimeout(t.A),t.A=null)}function ks(t){return t.g?t.g.readyState:0}function Ls(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Is:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ns(t){let e="";return li(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Os(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Ns(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Br(t,e,n))}function Ps(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ms(t){this.Ca=0,this.i=[],this.j=new Yi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ps("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ps("baseRetryDelayMs",5e3,t),this.bb=Ps("retryDelaySeedMs",1e4,t),this.$a=Ps("forwardChannelMaxRetries",2,t),this.ta=Ps("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new ns(t&&t.concurrentRequestLimit),this.Fa=new us,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fs(t){if(Us(t),3==t.G){var e=t.U++,n=Fr(t.F);Br(n,"SID",t.I),Br(n,"RID",e),Br(n,"TYPE","terminate"),$s(t,n),(e=new yr(t,t.j,e,void 0)).K=2,e.v=$r(Fr(n)),n=!1,vn.navigator&&vn.navigator.sendBeacon&&(n=vn.navigator.sendBeacon(e.v.toString(),"")),!n&&vn.Image&&((new Image).src=e.v,n=!0),n||(e.g=Zs(e.l,null),e.g.da(e.v)),e.F=Date.now(),Cr(e)}Js(t)}function xs(t){t.g&&(Ks(t),t.g.cancel(),t.g=null)}function Us(t){xs(t),t.u&&(vn.clearTimeout(t.u),t.u=null),Gs(t),t.h.cancel(),t.m&&("number"==typeof t.m&&vn.clearTimeout(t.m),t.m=null)}function js(t){rs(t.h)||t.m||(t.m=!0,xi(t.Ja,t),t.C=0)}function Bs(t,e){var n;n=e?e.m:t.U++;const i=Fr(t.F);Br(i,"SID",t.I),Br(i,"RID",n),Br(i,"AID",t.T),$s(t,i),t.o&&t.s&&Os(i,t.o,t.s),n=new yr(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Hs(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),as(t.h,n),Ir(n,i,e)}function $s(t,e){t.ia&&li(t.ia,(function(t,n){Br(e,n,t)})),t.l&&Or({},(function(t,n){Br(e,n,t)}))}function Hs(t,e,n){n=Math.min(t.i.length,n);var i=t.l?_n(t.l.Ra,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=r[o].h;const a=r[o].g;if(n-=e,0>n)e=Math.max(0,r[o].h-100),s=!1;else try{fs(a,t,"req"+n+"_")}catch(t){i&&i(a)}}if(s){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function zs(t){t.g||t.u||(t.Z=1,xi(t.Ia,t),t.A=0)}function Vs(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=or(_n(t.Ia,t),Ws(t,t.A)),t.A++,0))}function Ks(t){null!=t.B&&(vn.clearTimeout(t.B),t.B=null)}function qs(t){t.g=new yr(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Fr(t.sa);Br(e,"RID","rpc"),Br(e,"SID",t.I),Br(e,"CI",t.L?"0":"1"),Br(e,"AID",t.T),Br(e,"TYPE","xmlhttp"),$s(t,e),t.o&&t.s&&Os(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=$r(Fr(e)),n.s=null,n.P=!0,Tr(n,t)}function Gs(t){null!=t.v&&(vn.clearTimeout(t.v),t.v=null)}function Xs(t,e){var n=null;if(t.g==e){Gs(t),Ks(t),t.g=null;var i=2}else{if(!os(t.h,e))return;n=e.D,hs(t.h,e),i=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;Ri(i=tr(),new sr(i,n)),js(t)}else zs(t);else if(3==(r=e.o)||0==r&&0<t.pa||!(1==i&&function(t,e){return!(ss(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=or(_n(t.Ja,t,e),Ws(t,t.C)),t.C++,0)))}(t,e)||2==i&&Vs(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Ys(t,5);break;case 4:Ys(t,10);break;case 3:Ys(t,6);break;default:Ys(t,2)}}function Ws(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ys(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var i=_n(t.kb,t);n||(n=new Mr("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||xr(n,"https"),$r(n)),function(t,e){const n=new Yi;if(vn.Image){const i=new Image;i.onload=Cn(ps,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Cn(ps,n,i,"TestLoadImage: error",!1,e),i.onabort=Cn(ps,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Cn(ps,n,i,"TestLoadImage: timeout",!1,e),vn.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else rr(2);t.G=0,t.l&&t.l.va(e),Js(t),Us(t)}function Js(t){if(t.G=0,t.la=[],t.l){const e=ls(t.h);0==e.length&&0==t.i.length||(Nn(t.la,e),Nn(t.la,t.i),t.h.i.length=0,Ln(t.i),t.i.length=0),t.l.ua()}}function Qs(t,e,n){var i=n instanceof Mr?Fr(n):new Mr(n,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Ur(i,i.m);else{var r=vn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Mr(null,void 0);i&&xr(s,i),e&&(s.g=e),r&&Ur(s,r),n&&(s.l=n),i=s}return n=t.D,e=t.za,n&&e&&Br(i,n,e),Br(i,"VER",t.ma),$s(t,i),i}function Zs(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Da&&!t.ra?new Es(new ds({jb:!0})):new Es(t.ra)).Ka(t.H),e}function to(){}function eo(){if(Vn&&!(10<=Number(ni)))throw Error("Environmental error: no available transport.")}function no(t,e){Di.call(this),this.g=new Ms(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Mn(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Mn(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new so(this)}function io(t){dr.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ro(){gr.call(this),this.status=1}function so(t){this.g=t}(dn=Es.prototype).Ka=function(t){this.L=t},dn.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fr.g(),this.C=this.u?cr(this.u):cr(fr),this.g.onreadystatechange=_n(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void Ss(this,t)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),r=vn.FormData&&t instanceof vn.FormData,!(0<=kn(As,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rs(this),0<this.B&&((this.K=function(t){return Vn&&ei()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.qa,this)):this.A=zi(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Ss(this,t)}},dn.qa=function(){void 0!==yn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},dn.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ri(this,"complete"),Ri(this,"abort"),Ds(this))},dn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ds(this,!0)),Es.X.M.call(this)},dn.Ha=function(){this.s||(this.F||this.v||this.l?Cs(this):this.fb())},dn.fb=function(){Cs(this)},dn.aa=function(){try{return 2<ks(this)?this.g.status:-1}catch(t){return-1}},dn.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},dn.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ws(e)}},dn.Ea=function(){return this.m},dn.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dn=Ms.prototype).ma=8,dn.G=1,dn.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new yr(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=ci(s),fi(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Hs(this,r,e),Br(n=Fr(this.F),"RID",t),Br(n,"CVER",22),this.D&&Br(n,"X-HTTP-Session-Id",this.D),$s(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Ns(s)))+"&"+e:this.o&&Os(n,this.o,s)),as(this.h,r),this.Ya&&Br(n,"TYPE","init"),this.O?(Br(n,"$req",e),Br(n,"SID","null"),r.Z=!0,Ir(r,n,null)):Ir(r,n,e),this.G=2}}else 3==this.G&&(t?Bs(this,t):0==this.i.length||rs(this.h)||Bs(this))},dn.Ia=function(){if(this.u=null,qs(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=or(_n(this.eb,this),t)}},dn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,rr(10),xs(this),qs(this))},dn.cb=function(){null!=this.v&&(this.v=null,xs(this),Vs(this),rr(19))},dn.kb=function(t){t?(this.j.info("Successfully pinged google.com"),rr(2)):(this.j.info("Failed to ping google.com"),rr(1))},(dn=to.prototype).xa=function(){},dn.wa=function(){},dn.va=function(){},dn.ua=function(){},dn.Ra=function(){},eo.prototype.g=function(t,e){return new no(t,e)},Dn(no,Di),no.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;rr(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Qs(t,null,t.V),js(t)},no.prototype.close=function(){Fs(this.g)},no.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Li(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&js(e)},no.prototype.M=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,no.X.M.call(this)},Dn(io,dr),Dn(ro,gr),Dn(so,to),so.prototype.xa=function(){Ri(this.g,"a")},so.prototype.wa=function(t){Ri(this.g,new io(t))},so.prototype.va=function(t){Ri(this.g,new ro)},so.prototype.ua=function(){Ri(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,hr.COMPLETE="complete",ur.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",Di.prototype.listen=Di.prototype.N,Es.prototype.listenOnce=Es.prototype.O,Es.prototype.getLastError=Es.prototype.Oa,Es.prototype.getLastErrorCode=Es.prototype.Ea,Es.prototype.getStatus=Es.prototype.aa,Es.prototype.getResponseJson=Es.prototype.Sa,Es.prototype.getResponseText=Es.prototype.fa,Es.prototype.send=Es.prototype.da,Es.prototype.setWithCredentials=Es.prototype.Ka,mn.createWebChannelTransport=function(){return new eo},mn.getStatEventTarget=function(){return tr()},mn.ErrorCode=ar,mn.EventType=hr,mn.Event=Qi,mn.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},mn.FetchXmlHttpFactory=ds,mn.WebChannel=ur,mn.XhrIo=Es;const oo="@firebase/firestore";class ao{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ao.UNAUTHENTICATED=new ao(null),ao.GOOGLE_CREDENTIALS=new ao("google-credentials-uid"),ao.FIRST_PARTY=new ao("first-party-uid"),ao.MOCK_USER=new ao("mock-user");let ho="9.17.1";const lo=new L("@firebase/firestore");function co(t,...e){if(lo.logLevel<=S.DEBUG){const n=e.map(fo);lo.debug(`Firestore (${ho}): ${t}`,...n)}}function uo(t,...e){if(lo.logLevel<=S.ERROR){const n=e.map(fo);lo.error(`Firestore (${ho}): ${t}`,...n)}}function fo(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function po(t="Unexpected state"){const e=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: `+t;throw uo(e),new Error(e)}function go(t,e){t||po()}const mo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yo extends l{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class bo{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ao.UNAUTHENTICATED)))}shutdown(){}}class Eo{constructor(t){this.t=t,this.currentUser=ao.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new vo,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{co("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(co("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new vo)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(co("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(go("string"==typeof e.accessToken),new bo(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return go(null===t||"string"==typeof t),new ao(t)}}class Io{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i,this.type="FirstParty",this.user=ao.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(go(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class To{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i}getToken(){return Promise.resolve(new Io(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(ao.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ao{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class So{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&co("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.A;return this.A=t.token,co("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{co("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?i(t):co("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(go("string"==typeof t.token),this.A=t.token,new Ao(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _o(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class Co{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=_o(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function Do(t,e){return t<e?-1:t>e?1:0}class Ro{constructor(t,e,n){void 0===e?e=0:e>t.length&&po(),void 0===n?n=t.length-e:n>t.length-e&&po(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Ro.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ro?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ko extends Ro{construct(t,e,n){return new ko(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new yo(mo.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new ko(e)}static emptyPath(){return new ko([])}}class Lo{constructor(t){this.path=t}static fromPath(t){return new Lo(ko.fromString(t))}static fromName(t){return new Lo(ko.fromString(t).popFirst(5))}static empty(){return new Lo(ko.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ko.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ko.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Lo(new ko(t.slice()))}}function No(t){return"IndexedDbTransactionError"===t.name}class Oo{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Po{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Po&&t.projectId===this.projectId&&t.database===this.database}}class Mo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Mo(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Mo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Do(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}function Fo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}Mo.EMPTY_BYTE_STRING=new Mo("");class xo{constructor(t,e){this.comparator=t,this.root=e||jo.EMPTY}insert(t,e){return new xo(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,jo.BLACK,null,null))}remove(t){return new xo(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uo(this.root,t,this.comparator,!0)}}class Uo{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class jo{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:jo.RED,this.left=null!=i?i:jo.EMPTY,this.right=null!=r?r:jo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new jo(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return jo.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,jo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,jo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw po();if(this.right.isRed())throw po();const t=this.left.check();if(t!==this.right.check())throw po();return t+(this.isRed()?0:1)}}jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1,jo.EMPTY=new class{constructor(){this.size=0}get key(){throw po()}get value(){throw po()}get color(){throw po()}get left(){throw po()}get right(){throw po()}copy(t,e,n,i,r){return this}insert(t,e,n){return new jo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bo{constructor(t){this.comparator=t,this.data=new xo(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new $o(this.data.getIterator())}getIteratorFrom(t){return new $o(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Bo))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Bo(this.comparator);return e.data=t,e}}class $o{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ho{constructor(t,e=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}var zo,Vo;(Vo=zo||(zo={}))[Vo.OK=0]="OK",Vo[Vo.CANCELLED=1]="CANCELLED",Vo[Vo.UNKNOWN=2]="UNKNOWN",Vo[Vo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vo[Vo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vo[Vo.NOT_FOUND=5]="NOT_FOUND",Vo[Vo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vo[Vo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vo[Vo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vo[Vo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vo[Vo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vo[Vo.ABORTED=10]="ABORTED",Vo[Vo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vo[Vo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vo[Vo.INTERNAL=13]="INTERNAL",Vo[Vo.UNAVAILABLE=14]="UNAVAILABLE",Vo[Vo.DATA_LOSS=15]="DATA_LOSS",new xo(Lo.comparator),new xo(Lo.comparator),new xo(Lo.comparator),new Bo(Lo.comparator),new Bo(Do);class Ko{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(Fo(t.integerValue));else if("doubleValue"in t){const n=Fo(t.doubleValue);isNaN(n)?this.he(e,13):(this.he(e,15),function(t){return 0===t&&1/t==-1/0}(n)?e.le(0):e.le(n))}else if("timestampValue"in t){const n=t.timestampValue;this.he(e,20),"string"==typeof n?e.fe(n):(e.fe(`${n.seconds||""}`),e.le(n.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(function(t){return"string"==typeof t?Mo.fromBase64String(t):Mo.fromUint8Array(t)}(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.he(e,45),e.le(n.latitude||0),e.le(n.longitude||0)}else"mapValue"in t?function(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):po()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const n=t.fields||{};this.he(e,55);for(const t of Object.keys(n))this.de(t,e),this.ce(n[t],e)}ye(t,e){const n=t.values||[];this.he(e,50);for(const t of n)this.ce(t,e)}me(t,e){this.he(e,37),Lo.fromName(t).path.forEach((t=>{this.he(e,60),this.pe(t,e)}))}he(t,e){t.le(e)}_e(t){t.le(2)}}Ko.Ie=new Ko,new Uint8Array(0);class qo{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new qo(t,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Go(){return"undefined"!=typeof document?document:null}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class Xo{constructor(t,e,n=1e3,i=1.5,r=6e4){this.Hs=t,this.timerId=e,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,e-n);i>0&&co("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(()=>(this.Eo=Date.now(),t()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Wo{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new Wo(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yo(mo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yo(t){if(Lo.isDocumentKey(t))throw new yo(mo.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}const Jo=new Map;class Qo{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new yo(mo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new yo(mo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new yo(mo.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zo{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qo({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yo(mo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new yo(mo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qo(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new wo;switch(t.type){case"gapi":const e=t.client;return new To(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new yo(mo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Jo.get(t);e&&(co("ComponentProvider","Removing Datastore"),Jo.delete(t),e.terminate())}(this),Promise.resolve()}}class ta{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ta(this.firestore,t,this._key)}}class ea{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ea(this.firestore,t,this._query)}}class na extends ea{constructor(t,e,n){super(t,e,function(t){return new Ho(t)}(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ta(this.firestore,null,new Lo(t))}withConverter(t){return new na(this.firestore,t,this._path)}}class ia{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=ao.UNAUTHENTICATED,this.clientId=Co.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{co("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(co("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yo(mo.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=function(t,e){if(uo("AsyncQueue",`${e}: ${t}`),No(t))return new yo(mo.UNAVAILABLE,`${e}: ${t}`);throw t}(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}class ra{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Xo(this,"async_queue_retry"),this.Wc=()=>{const t=Go();t&&co("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=Go();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=Go();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise((()=>{}));const e=new vo;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Lc.push(t),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!No(t))throw t;co("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(t){const e=this.Bc.then((()=>(this.Gc=!0,t().catch((t=>{this.Kc=t,this.Gc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw uo("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Gc=!1,t))))));return this.Bc=e,e}enqueueAfterDelay(t,e,n){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const i=Wo.createAndSchedule(this,t,e,n,(t=>this.Yc(t)));return this.Uc.push(i),i}zc(){this.Kc&&po()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()}))}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}class sa extends Zo{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new ra,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new Oo(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ia(t._authCredentials,t._appCheckCredentials,t._queue,i)}(this),this._firestoreClient.terminate()}}!function(t,e=!0){!function(t){ho=t}(lt),st(new w("firestore",((t,{instanceIdentifier:n,options:i})=>{const r=t.getProvider("app").getImmediate(),s=new sa(new Eo(t.getProvider("auth-internal")),new So(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new yo(mo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(t.options.projectId,e)}(r,n),r);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),ft(oo,"3.8.3",t),ft(oo,"3.8.3","esm2017")}();const oa=ct({apiKey:"AIzaSyAyL4-gcE80oAhd3XHMugIScXnms1pDPuQ",authDomain:"flash-17cb5.firebaseapp.com",databaseURL:"https://flash-17cb5-default-rtdb.firebaseio.com",projectId:"flash-17cb5",storageBucket:"flash-17cb5.appspot.com",messagingSenderId:"92154809297",appId:"1:92154809297:web:b63c4be349d364b2482ef0",measurementId:"G-M61CNDQWVV"}),aa=(function(t=ut()){const e=ot(t=b(t),ue);e.isInitialized()?e.getImmediate():function(t,e={}){const n=ot(t,ue);if(n.isInitialized()){const t=n.getImmediate();if(f(e,n.getOptions()))return t;throw be.create("already-initialized")}n.initialize({options:e})}(t)}(oa),function(t,e){const n="string"==typeof t?t:"(default)",s=ot("object"==typeof t?t:ut(),"firestore/lite").getImmediate({identifier:n});if(!s._initialized){const t=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=r())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]})("firestore");t&&function(t,e,n,r={}){var s;const o=(t=on(t,pn))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&function(t,...e){if(ze.logLevel<=S.WARN){const n=e.map(Ve);ze.warn(`Firestore (${He}): ${t}`,...n)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=$e.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i(JSON.stringify({alg:"none",type:"JWT"})),i(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(s=t._app)||void 0===s?void 0:s.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new We(Ge,"mockUserToken must contain 'sub' or 'user_id' field!");n=new $e(o)}t._authCredentials=new Qe(new Ye(e,n))}}(s,...t)}return s}(oa));(function(t,e,...n){if(t=b(t),function(t,e,n){if(!n)throw new yo(mo.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Zo){const i=ko.fromString(e,...n);return Yo(i),new na(t,null,i)}{if(!(t instanceof ta||t instanceof na))throw new yo(mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ko.fromString(e,...n));return Yo(i),new na(t.firestore,null,i)}})("users").add({first:"Ada",last:"Lovelace",born:1815}).then((t=>{console.log("Document written with ID: ",t.id)})).catch((t=>{console.error("Error adding document: ",t)})),console.log(aa)})();